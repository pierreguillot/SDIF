# Easdif README
# $Id: README,v 1.10 2008-03-11 15:24:18 roebel Exp $
#
# Copyright (C) Ircam 2002-2008

# Introduction
==============

Easdif is a  high level API to the functions of  the SDIF Library.  By
means  of encapsulating  all  low level  functions  into classes  with
intuitive  user interface  the  involved handling  of  the SDIF  files
becomes much  simpler. Nevertheless all the deeper  levels of handling
SDIF files  as for examples Name  Value Tables and  embedded types are
accessible with Easdif.

libEasdif contains all objects from  SDIF compiled with a c++ compiler
to  facilitate error  handling  by  means of  exceptions.  Due to  the
complete availability of  SDIF in Easdif it can be  used as a complete
SDIF replacement library.

Due  to time constraints  there have  been no  releases since  quite a
while.   The sourceforge  cvs, however,  is constantly  maintained and
should give  you a clean build.  To get the proper  source layout from
cvs check out the cvs module EASDIF_SDIF as below :

cvs -d:pserver:anonymous@sdif.cvs.sourceforge.net:/cvsroot/sdif login  
cvs -z3 -d:pserver:anonymous@sdif.cvs.sourceforge.net:/cvsroot/sdif co -P EASDIF_SDIF

This  creates a directory  EASDIF_SDIF with  a subdirectory  SDIF. The
directory ESDIF_SDIF  should be used  as source root dircetry  for the
cmake configuration (see below) and the build.

# Installation and compilation
==============================

Since  version 1.3.0  of Easdif  the main  build  system configuration
system is based on cmake (see: www.cmake.org). cmake is similar to the
automake tools, however, it is much faster and supports a large number
of compilers and  operating systems.  (Currently Makefiles and
 gcc or icc compiler on Linux,  Xcode or Makefiles using gcc on Mac OS
X,  Visual C++  and Borland  C++ on  Windows and  other  build systems
should be directly supported.
 
To configure  and compile Easdif  using the cmake  build configuration
you need at least cmake version 2.4.5. After installing cmake you need
to extract the Easdif distribution, and create and cd into a dedicated
build directory.   To configure and  compile using Unix  makefiles you
may then call

$> cmake path_to_easdif_src
$> make 
$> make install

The install target will install  shared versions of the Easdif and the
SDIF  libraries  as well  as  the SDIF  command  line  tools that  are
included in the Easdif  distribution. The default install directory is
/usr/local.  The   install  directory   can  be  modified   using  the
CMAKE_INSTALL_PREFIX variable as follows

$> cmake -DCMAKE_INSTALL_PREFIX:STRING=/my/install/dir  path_to_easdif_src 
$> make 
$> make install


# Mac OS X
----------

For installation on  Mac OS X you can use the  same procedure as above
or you  can use Xcode.  To configure your  Xcode project you  create a
build directory BDIR cd into this directory and run

cmake -GXcode path_to_easdif_src

which will create the Xcode project in the current directory BDIR. You
can then load  the project and compile with  Xcode.  The cmake project
generator supports Mac OS X with Xcode 1.5 until Xcode 2.4.

To  enable the  creation  of  universal binaries  you  should use  the
configure option DOUNIVERSAL.   Note, however, that universal binaries
are only supported  if the SDK MacOSX10.4u.sdk is  installed.  In this
case  and with DOUNIVERSAL  option given  the universal  binaries that
will be created will run on Mac OS X 10.4 or later.

The command line for configuration with universal binaries is then

cmake -GXcode path_to_easdif_src -DDOUNIVERSAL:=1

Warning :  With some versions of  Xcode the build button  in the tools
menu does not  build the selected tartget. Better  ritght click on the
target you want to build and  select build from there.  Note, that you
should never  use the ALL  target because not  all of the  targets are
supported in Xcode.

# Windows 
---------

To  configure and  compile  on window  you  can use  all the  compiler
environments supported  by cmake (mingw, cygwin, msvc  and many more).
You can run  cmake either from the  command line or as a  GUI.  In the
gui mode you  select the source directory and  build directory and run
the  cmake  configuration.   Then  you can  interactively  modify  the
compiler  options you  like,  and  run the  configure  pass until  all
settings  stabilize (no  red field  appears  in the  dialog) and  then
create the  selected project.   Note, that for  some IDEs  the default
build style  may be debug  and you may  need to explicitly  select the
release build.  Note,  as well that the ALL target  will fail for most
IDEs  because  not  all  of  the  targets  are  supported  in  an  IDE
environment. Therefore you better work wirh the individual library and
program targets. 

# Matlab mex interface
======================

Since  1.4.0  of the  library  a matlab  mex  interface  to easdif  is
available.   Currently the mex  configuration is  only tested  for the
command line  compiler configuration (especially  mex configuration is
untested for all the IDEs like Xcode and MSVC). 

To configure for comilation of the mex interface use

$> cmake -DEASDIF_BUILD_MEX:BOOL=on path_to_easdif_src
$> make mex
$> make install

This  installs  the mex  and  matlab m-files  as  well  as the  Easdif
library.  If  you want to copy  only the the matlab  support files you
can copy the  content of the m-files in the  matlab source root folder
and the generated mex files in the directory bin/{arch}/ in your build
folder.
 
If the mex compile script is not found by cmake you can select it by 
manually as follows

$> cmake -DMEX:STRING=/path_to_mex_script -DEASDIF_BUILD_MEX:BOOL=on path_to_easdif_src 
$> make mex
$> make install

Mex wrappers and m-files  will be installed in 
${CMAKE_INSTALL_PREFIX}/lib/matlab.

# SWIG Wrappers
===============

Easdif provides a number of swig wrapper templates that can be used to
work  with  SDIF  files  from   python,  perl  or  java.  For  further
information look into swig/README.

For  the moment  the automake/autotools  build configuration  is still
supported. For generic instructions look into the file INSTALL.


# Documentation
===============

The  programmer documentation  of  the Easdif  library  can either  be
downloaded from http://sourceforge.net/projects/sdif  or if doxygen is
installed may be generated from the local sources by means of calling

> make doc

in a configured source directory.


# License Agreement
===================

Easdif and  SDIF are free  software, distributed under the  GNU Lesser
General Public License. See the file COPYING for further information.


# Contact
=========

SDIF home page: http://www.ircam.fr/sdif
sourceforge home page: http://sourceforge.net/projects/sdif

